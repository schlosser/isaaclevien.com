!function(t){"use strict";function e(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}function s(t){var e=t||{};return this.settings={stapleId:e.stapleId||"staple",scrollingElementId:e.scrollingElementId||"staple-scrolling",offset:e.offset||0,stapledClass:e.stapledClass||"stapled-bottom",mobileWidth:e.mobileWidth||640},this.staple=document.getElementById(this.settings.stapleId),this.scrollingElement=document.getElementById(this.settings.scrollingElementId),this.inRAF=!1,this.lastYOffset=0,this.staple||console.error("No staple element with ID "+this.settings.stapleId),this.scrollingElement||console.error("No scrollingElement element with ID "+this.settings.scrollingElementId),this}s.prototype._stapleBottom=function(){e(this.staple,this.settings.stapledClass)||(this.staple.className+=" "+this.settings.stapledClass)},s.prototype._unStaple=function(){this.staple.className=this.staple.className.replace(" "+this.settings.stapledClass,"")},s.prototype.getOnScroll=function(){var t=this,e=function(){t.lastYOffset=window.pageYOffset,t.inRAF||(t.inRAF=!0,window.requestAnimationFrame(function(){t.lastYOffset+t.lastStapleHeight>=t.lastScrollingElementBottom?t._stapleBottom():t._unStaple(),t.inRAF=!1}))};return e},s.prototype.getOnResize=function(){var t=this,e=function(){t.lastScrollingElementBottom=window.pageYOffset+t.scrollingElement.getBoundingClientRect().top+t.scrollingElement.getBoundingClientRect().height,t.lastStapleHeight=t.staple.getBoundingClientRect().height};return e},s.prototype.enable=function(){this.onScroll=this.getOnScroll(),this.onResize=this.getOnResize(),this.onResize(),this.onScroll(),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize)},s.prototype.disable=function(){this._unStaple(),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)},"function"==typeof define&&define.amd?define(s):"undefined"!=typeof module&&module.exports?module.exports=s:t.Staple=s}(this);