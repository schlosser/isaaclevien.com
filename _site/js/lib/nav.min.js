!function(e){"use strict";function s(e,s){return(" "+e.className+" ").indexOf(" "+s+" ")>-1}function t(e,s){for(var t in s)s.hasOwnProperty(t)&&(e[t]=s[t])}function n(e){this.settings={navId:"nav",classPrefix:"nav",beforeOpen:function(e,s){e()},afterOpen:function(){},onOpenError:function(e){},beforeClose:function(e,s){e()},afterClose:function(){},onCloseError:function(e){}},t(this.settings,e||{}),this.nav=document.getElementById(this.settings.navId),this.navToggle=this.nav.getElementsByClassName(this.settings.classPrefix+"-toggle")[0],this.body=document.getElementsByTagName("body")[0]}n.prototype.close=function(){this.settings.beforeClose(function(){this.nav.className=this.nav.className.replace(" "+this.settings.classPrefix+"-open",""),this.body.className=this.body.className.replace(" "+this.settings.classPrefix+"-open",""),this.settings.afterClose()}.bind(this),function(e){this.settings.onCloseError(e)}.bind(this))},n.prototype.open=function(){this.settings.beforeOpen(function(){this.nav.className=this.nav.className.replace(" "+this.settings.classPrefix+"-open",""),this.body.className=this.body.className.replace(" "+this.settings.classPrefix+"-open",""),this.nav.className+=" "+this.settings.classPrefix+"-open",this.body.className+=" "+this.settings.classPrefix+"-open",this.settings.afterOpen()}.bind(this),function(e){this.settings.onOpenError(e)}.bind(this))},n.prototype.getOnClick=function(){var e=this,t=function(t){t.preventDefault(),s(nav,e.settings.classPrefix+"-open")?e.close():e.open()};return t},n.prototype.enable=function(){this.onClick=this.getOnClick(),this.navToggle.addEventListener("click",this.onClick)},n.prototype.disable=function(){this._close(),this.navToggle.removeEventListener("click",this.onClick)},"function"==typeof define&&define.amd?define(n):"undefined"!=typeof module&&module.exports?module.exports=n:e.Nav=n}(this);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9uYXYubWluLmpzIl0sIm5hbWVzIjpbImdsb2JhbCIsIl9oYXNDbGFzcyIsImVsZW1lbnQiLCJjbGFzc05hbWUiLCJpbmRleE9mIiwiX2V4dGVuZCIsIm9iajEiLCJvYmoyIiwiaSIsImhhc093blByb3BlcnR5IiwiTmF2Iiwib3B0aW9ucyIsInRoaXMiLCJzZXR0aW5ncyIsIm5hdklkIiwiY2xhc3NQcmVmaXgiLCJiZWZvcmVPcGVuIiwicmVzb2x2ZSIsInJlamVjdCIsImFmdGVyT3BlbiIsIm9uT3BlbkVycm9yIiwiZXJyb3JEYXRhIiwiYmVmb3JlQ2xvc2UiLCJhZnRlckNsb3NlIiwib25DbG9zZUVycm9yIiwibmF2IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIm5hdlRvZ2dsZSIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJib2R5IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwcm90b3R5cGUiLCJjbG9zZSIsInJlcGxhY2UiLCJiaW5kIiwib3BlbiIsImdldE9uQ2xpY2siLCJfdGhpcyIsIm9uQ2xpY2siLCJlIiwicHJldmVudERlZmF1bHQiLCJlbmFibGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZGlzYWJsZSIsIl9jbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkZWZpbmUiLCJhbWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQ0FBQyxTQUFTQSxHQUNSLFlBVUEsU0FBU0MsR0FBVUMsRUFBU0MsR0FDMUIsT0FBUSxJQUFNRCxFQUFRQyxVQUFZLEtBQUtDLFFBQVEsSUFBTUQsRUFBWSxRQVVuRSxRQUFTRSxHQUFRQyxFQUFNQyxHQUNyQixJQUFLLEdBQUlDLEtBQUtELEdBQ1JBLEVBQUtFLGVBQWVELEtBQ3RCRixFQUFLRSxHQUFLRCxFQUFLQyxJQVFyQixRQUFTRSxHQUFJQyxHQUNYQyxLQUFLQyxVQU9IQyxNQUFPLE1BU1BDLFlBQWEsTUFXYkMsV0FBWSxTQUFTQyxFQUFTQyxHQUFVRCxLQU94Q0UsVUFBVyxhQVVYQyxZQUFhLFNBQVNDLEtBV3RCQyxZQUFhLFNBQVNMLEVBQVNDLEdBQVVELEtBT3pDTSxXQUFZLGFBT1pDLGFBQWMsU0FBU0gsTUFJekJoQixFQUFRTyxLQUFLQyxTQUFVRixPQUV2QkMsS0FBS2EsSUFBTUMsU0FBU0MsZUFBZWYsS0FBS0MsU0FBU0MsT0FDakRGLEtBQUtnQixVQUFZaEIsS0FBS2EsSUFBSUksdUJBQXVCakIsS0FBS0MsU0FBU0UsWUFBYyxXQUFXLEdBQ3hGSCxLQUFLa0IsS0FBT0osU0FBU0sscUJBQXFCLFFBQVEsR0FVcERyQixFQUFJc0IsVUFBVUMsTUFBUSxXQUNwQnJCLEtBQUtDLFNBQVNTLFlBQ1osV0FDRVYsS0FBS2EsSUFBSXRCLFVBQVlTLEtBQUthLElBQUl0QixVQUFVK0IsUUFBUSxJQUFNdEIsS0FBS0MsU0FBU0UsWUFBYyxRQUFTLElBQzNGSCxLQUFLa0IsS0FBSzNCLFVBQVlTLEtBQUtrQixLQUFLM0IsVUFBVStCLFFBQVEsSUFBTXRCLEtBQUtDLFNBQVNFLFlBQWMsUUFBUyxJQUM3RkgsS0FBS0MsU0FBU1UsY0FDZFksS0FBS3ZCLE1BQ1AsU0FBZ0JTLEdBQ2RULEtBQUtDLFNBQVNXLGFBQWFILElBQzNCYyxLQUFLdkIsUUFXWEYsRUFBSXNCLFVBQVVJLEtBQU8sV0FDbkJ4QixLQUFLQyxTQUFTRyxXQUNaLFdBQ0VKLEtBQUthLElBQUl0QixVQUFZUyxLQUFLYSxJQUFJdEIsVUFBVStCLFFBQVEsSUFBTXRCLEtBQUtDLFNBQVNFLFlBQWMsUUFBUyxJQUMzRkgsS0FBS2tCLEtBQUszQixVQUFZUyxLQUFLa0IsS0FBSzNCLFVBQVUrQixRQUFRLElBQU10QixLQUFLQyxTQUFTRSxZQUFjLFFBQVMsSUFDN0ZILEtBQUthLElBQUl0QixXQUFhLElBQU1TLEtBQUtDLFNBQVNFLFlBQWMsUUFDeERILEtBQUtrQixLQUFLM0IsV0FBYSxJQUFNUyxLQUFLQyxTQUFTRSxZQUFjLFFBQ3pESCxLQUFLQyxTQUFTTSxhQUNkZ0IsS0FBS3ZCLE1BQ1AsU0FBZ0JTLEdBQ2RULEtBQUtDLFNBQVNPLFlBQVlDLElBQzFCYyxLQUFLdkIsUUFTWEYsRUFBSXNCLFVBQVVLLFdBQWEsV0FDekIsR0FBSUMsR0FBUTFCLEtBS1IyQixFQUFVLFNBQVNDLEdBQ3JCQSxFQUFFQyxpQkFFRXhDLEVBQVV3QixJQUFLYSxFQUFNekIsU0FBU0UsWUFBYyxTQUM5Q3VCLEVBQU1MLFFBRU5LLEVBQU1GLE9BR1YsT0FBT0csSUFNVDdCLEVBQUlzQixVQUFVVSxPQUFTLFdBQ3JCOUIsS0FBSzJCLFFBQVUzQixLQUFLeUIsYUFDcEJ6QixLQUFLZ0IsVUFBVWUsaUJBQWlCLFFBQVMvQixLQUFLMkIsVUFNaEQ3QixFQUFJc0IsVUFBVVksUUFBVSxXQUN0QmhDLEtBQUtpQyxTQUNMakMsS0FBS2dCLFVBQVVrQixvQkFBb0IsUUFBU2xDLEtBQUsyQixVQUc3QixrQkFBWFEsU0FBeUJBLE9BQU9DLElBQ3pDRCxPQUFPckMsR0FDb0IsbUJBQVh1QyxTQUEwQkEsT0FBT0MsUUFDakRELE9BQU9DLFFBQVV4QyxFQUVqQlYsRUFBT1UsSUFBTUEsR0FHZkUiLCJmaWxlIjoibGliL25hdi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogVHJ1ZSBpZiBgZWxlbWVudGAgaGFzIGNsYXNzIGBjbGFzc05hbWVgLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudCAtIHRoZSBlbGVtZW50IHRvIGNoZWNrIHRoZSBjbGFzcyBuYW1lIG9mXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgLSB0aGUgY2xhc3MgbmFtZSB0byBjaGVja1xuICAgKlxuICAgKiBAcmV0dXJucyBUcnVlIGlmIGBlbGVtZW50YCBoYXMgY2xhc3MgYGNsYXNzTmFtZWAuXG4gICAqL1xuICBmdW5jdGlvbiBfaGFzQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgcmV0dXJuICgnICcgKyBlbGVtZW50LmNsYXNzTmFtZSArICcgJykuaW5kZXhPZignICcgKyBjbGFzc05hbWUgKyAnICcpID4gLTE7XG4gIH1cblxuICAvKipcbiAgICogRXh0ZW5kIG9iajEgd2l0aCBlYWNoIGtleSBpbiBvYmoyLCBvdmVycmlkaW5nIGRlZmF1bHQgdmFsdWVzIGluIG9iajEgd2l0aFxuICAgKiB2YWx1ZXMgaW4gb2JqMlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqMSAtIFRoZSBvYmplY3QgdG8gZXh0ZW5kLlxuICAgKiBAcGFyYW0ge29iamVjdH0gb2JqMiAtIFRoZSBvdmVycmlkZXMgdG8gYXBwbHkgb250byBvYmoxLlxuICAgKi9cbiAgZnVuY3Rpb24gX2V4dGVuZChvYmoxLCBvYmoyKSB7XG4gICAgZm9yICh2YXIgaSBpbiBvYmoyKSB7XG4gICAgICBpZiAob2JqMi5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBvYmoxW2ldID0gb2JqMltpXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBjbGFzc1xuICAgKi9cbiAgZnVuY3Rpb24gTmF2KG9wdGlvbnMpIHtcbiAgICB0aGlzLnNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFR5cGU6IHN0cmluZ1xuICAgICAgICogRGVmYXVsdDogJ25hdidcbiAgICAgICAqIERlc2NyaXB0aW9uOiBUaGUgQ1NTIElEIG9mIG5hdmJhci5cbiAgICAgICAqL1xuICAgICAgbmF2SWQ6ICduYXYnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFR5cGU6IHN0cmluZ1xuICAgICAgICogRGVmYXVsdDogJ25hdidcbiAgICAgICAqIERlc2NyaXB0aW9uOiBUaGUgcHJlZml4IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGxpYnJhcnkgdGhhdCBzaG91bGQgYmVcbiAgICAgICAqICAgcHJlcGVuZGVkIHRvIGNsYXNzIG5hbWVzIHdpdGhpbiB0aGUgbmF2YmFyLCBhbmQgb3BlbiBzdGF0ZXMgb24gdGhlXG4gICAgICAgKiAgIG5hdmJhciBhbmQgYm9keS5cbiAgICAgICAqL1xuICAgICAgY2xhc3NQcmVmaXg6ICduYXYnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFR5cGU6IGZ1bmN0aW9uXG4gICAgICAgKiBEZWZhdWx0OiBmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsgcmVzb2x2ZSgpOyB9XG4gICAgICAgKiBEZXNjcmlwdGlvbjogQ2FsbGVkIGJlZm9yZSB0aGUgbmF2YmFyIGlzIG9wZW5lZC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSByZXNvbHZlIC0gY2FsbCB0aGlzIHRvIG9wZW4gdGhlIG5hdmJhci5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlamVjdCAtIGNhbGwgdGhpcyB3aXRoIGFueSBhcmJpdHJhcnkgYGVycm9yRGF0YWBcbiAgICAgICAqICAgYXR0cmlidXRlLCB0byBjYWxsIGBvbk9wZW5FcnJvcmAuXG4gICAgICAgKi9cbiAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgeyByZXNvbHZlKCk7IH0sXG5cbiAgICAgIC8qKlxuICAgICAgICogVHlwZTogZnVuY3Rpb25cbiAgICAgICAqIERlZmF1bHQ6IGZ1bmN0aW9uKCkgeyB9XG4gICAgICAgKiBEZXNjcmlwdGlvbjogQ2FsbGVkIGFmdGVyIHRoZSBuYXZiYXIgaXMgb3BlbmVkLlxuICAgICAgICovXG4gICAgICBhZnRlck9wZW46IGZ1bmN0aW9uKCkge30sXG5cbiAgICAgIC8qKlxuICAgICAgICogVHlwZTogZnVuY3Rpb25cbiAgICAgICAqIERlZmF1bHQ6IGZ1bmN0aW9uKGVycm9yRGF0YSkgeyB9XG4gICAgICAgKiBEZXNjcmlwdGlvbjogQ2FsbGVkIGlmIHRoZXJlIHdhcyBhbiBlcnJvciBvcGVuaW5nIHRoZSBuYXZiYXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IGVycm9yRGF0YSAtIGFyYml0cmFyeSBlcnJvciBkYXRhIHBhc3NlZCBmcm9tIGNhbGxpbmdcbiAgICAgICAqICAgdGhlIGByZWplY3RgIGZ1bmN0aW9uIGluIGBiZWZvcmVPcGVuYC5cbiAgICAgICAqL1xuICAgICAgb25PcGVuRXJyb3I6IGZ1bmN0aW9uKGVycm9yRGF0YSkge30sXG5cbiAgICAgIC8qKlxuICAgICAgICogVHlwZTogZnVuY3Rpb25cbiAgICAgICAqIERlZmF1bHQ6IGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgeyByZXNvbHZlKCk7IH1cbiAgICAgICAqIERlc2NyaXB0aW9uOiBDYWxsZWQgYmVmb3JlIHRoZSBuYXZiYXIgaXMgY2xvc2VkLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlc29sdmUgLSBjYWxsIHRoaXMgdG8gY2xvc2UgdGhlIG5hdmJhci5cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHJlamVjdCAtIGNhbGwgdGhpcyB3aXRoIGFueSBhcmJpdHJhcnkgYGVycm9yRGF0YWBcbiAgICAgICAqICAgYXR0cmlidXRlLCB0byBjYWxsIGBvbkNsb3NlRXJyb3JgLlxuICAgICAgICovXG4gICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7IHJlc29sdmUoKTsgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBUeXBlOiBmdW5jdGlvblxuICAgICAgICogRGVmYXVsdDogZnVuY3Rpb24oKSB7IH1cbiAgICAgICAqIERlc2NyaXB0aW9uOiBDYWxsZWQgYWZ0ZXIgdGhlIG5hdmJhciBpcyBjbG9zZWQuXG4gICAgICAgKi9cbiAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKCkge30sXG5cbiAgICAgIC8qKlxuICAgICAgICogVHlwZTogZnVuY3Rpb25cbiAgICAgICAqIERlZmF1bHQ6IGZ1bmN0aW9uKGVycm9yRGF0YSkgeyB9XG4gICAgICAgKiBEZXNjcmlwdGlvbjogQ2FsbGVkIGlmIHRoZXJlIHdhcyBhbiBlcnJvciBjbG9zaW5nIHRoZSBuYXZiYXIuXG4gICAgICAgKi9cbiAgICAgIG9uQ2xvc2VFcnJvcjogZnVuY3Rpb24oZXJyb3JEYXRhKSB7fSxcbiAgICB9O1xuXG4gICAgLy8gV2UgZXh0ZW5kIHRoZSBkZWZhdWx0IHNldHRpbmdzIHdpdGggdGhlIHByb3ZpZGVkIG92ZXJyaWRlcy5cbiAgICBfZXh0ZW5kKHRoaXMuc2V0dGluZ3MsIG9wdGlvbnMgfHwge30pO1xuXG4gICAgdGhpcy5uYXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLm5hdklkKTtcbiAgICB0aGlzLm5hdlRvZ2dsZSA9IHRoaXMubmF2LmdldEVsZW1lbnRzQnlDbGFzc05hbWUodGhpcy5zZXR0aW5ncy5jbGFzc1ByZWZpeCArICctdG9nZ2xlJylbMF07XG4gICAgdGhpcy5ib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIG5hdiwgcmVtb3ZpbmcgdGhlIGBuYXYtb3BlbmAgY2xhc3Mgb24gYm90aCB0aGUgPGJvZHk+IGFuZCBvblxuICAgKiB0aGUgbmF2YmFyIGl0c2VsZi5cbiAgICpcbiAgICogTm90ZTogdGhlIGNsYXNzIHByZWZpeCBgbmF2YCBjYW4gYmUgbW9kaWZpZWQgdGhyb3VnaCB0aGUgYGNsYXNzUHJlZml4YFxuICAgKiAgIHBhcmFtZXRlciB0byB0aGUgYG5ldyBOYXYoKWAgY29uc3RydWN0b3IuXG4gICAqL1xuICBOYXYucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXR0aW5ncy5iZWZvcmVDbG9zZShcbiAgICAgIGZ1bmN0aW9uIHJlc29sdmUoKSB7XG4gICAgICAgIHRoaXMubmF2LmNsYXNzTmFtZSA9IHRoaXMubmF2LmNsYXNzTmFtZS5yZXBsYWNlKCcgJyArIHRoaXMuc2V0dGluZ3MuY2xhc3NQcmVmaXggKyAnLW9wZW4nLCAnJyk7XG4gICAgICAgIHRoaXMuYm9keS5jbGFzc05hbWUgPSB0aGlzLmJvZHkuY2xhc3NOYW1lLnJlcGxhY2UoJyAnICsgdGhpcy5zZXR0aW5ncy5jbGFzc1ByZWZpeCArICctb3BlbicsICcnKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5hZnRlckNsb3NlKCk7XG4gICAgICB9LmJpbmQodGhpcyksXG4gICAgICBmdW5jdGlvbiByZWplY3QoZXJyb3JEYXRhKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mub25DbG9zZUVycm9yKGVycm9yRGF0YSk7XG4gICAgICB9LmJpbmQodGhpcylcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgbmF2LCBwbGFjaW5nIHRoZSBgbmF2LW9wZW5gIGNsYXNzIG9uIGJvdGggdGhlIDxib2R5PiBhbmQgb24gdGhlXG4gICAqIG5hdmJhciBpdHNlbGYuXG4gICAqXG4gICAqIE5vdGU6IHRoZSBjbGFzcyBwcmVmaXggYG5hdmAgY2FuIGJlIG1vZGlmaWVkIHRocm91Z2ggdGhlIGBjbGFzc1ByZWZpeGBcbiAgICogICBwYXJhbWV0ZXIgdG8gdGhlIGBuZXcgTmF2KClgIGNvbnN0cnVjdG9yLlxuICAgKi9cbiAgTmF2LnByb3RvdHlwZS5vcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXR0aW5ncy5iZWZvcmVPcGVuKFxuICAgICAgZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgICAgICAgdGhpcy5uYXYuY2xhc3NOYW1lID0gdGhpcy5uYXYuY2xhc3NOYW1lLnJlcGxhY2UoJyAnICsgdGhpcy5zZXR0aW5ncy5jbGFzc1ByZWZpeCArICctb3BlbicsICcnKTtcbiAgICAgICAgdGhpcy5ib2R5LmNsYXNzTmFtZSA9IHRoaXMuYm9keS5jbGFzc05hbWUucmVwbGFjZSgnICcgKyB0aGlzLnNldHRpbmdzLmNsYXNzUHJlZml4ICsgJy1vcGVuJywgJycpO1xuICAgICAgICB0aGlzLm5hdi5jbGFzc05hbWUgKz0gJyAnICsgdGhpcy5zZXR0aW5ncy5jbGFzc1ByZWZpeCArICctb3Blbic7XG4gICAgICAgIHRoaXMuYm9keS5jbGFzc05hbWUgKz0gJyAnICsgdGhpcy5zZXR0aW5ncy5jbGFzc1ByZWZpeCArICctb3Blbic7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuYWZ0ZXJPcGVuKCk7XG4gICAgICB9LmJpbmQodGhpcyksXG4gICAgICBmdW5jdGlvbiByZWplY3QoZXJyb3JEYXRhKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Mub25PcGVuRXJyb3IoZXJyb3JEYXRhKTtcbiAgICAgIH0uYmluZCh0aGlzKVxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgb25DbGljayBsaXN0ZW5lciBmb3IgdGhlIG5hdiB0b2dnbGluZy5cbiAgICpcbiAgICogQHJldHVybnMgZnVuY3Rpb24gLSB0aGUgb25DbGljayBsaXN0ZW5lclxuICAgKi9cbiAgTmF2LnByb3RvdHlwZS5nZXRPbkNsaWNrID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIC8qKlxuICAgICAqIFRoZSBvbkNsaWNrIGhhbmRsZXIuXG4gICAgICovXG4gICAgdmFyIG9uQ2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgIGlmIChfaGFzQ2xhc3MobmF2LCBfdGhpcy5zZXR0aW5ncy5jbGFzc1ByZWZpeCArICctb3BlbicpKSB7XG4gICAgICAgIF90aGlzLmNsb3NlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfdGhpcy5vcGVuKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gb25DbGljaztcbiAgfTtcblxuICAvKipcbiAgICogRW5hYmxlIHRoZSBuYXYgdG9nZ2xlLlxuICAgKi9cbiAgTmF2LnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uQ2xpY2sgPSB0aGlzLmdldE9uQ2xpY2soKTtcbiAgICB0aGlzLm5hdlRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERpc2FibGUgdGhlIG5hdiB0b2dnbGUsIGFuZCBjbG9zZSB0aGUgbmF2YmFyLlxuICAgKi9cbiAgTmF2LnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fY2xvc2UoKTtcbiAgICB0aGlzLm5hdlRvZ2dsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGljayk7XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShOYXYpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBOYXY7XG4gIH0gZWxzZSB7XG4gICAgZ2xvYmFsLk5hdiA9IE5hdjtcbiAgfVxuXG59KHRoaXMpKTtcbiJdfQ==
